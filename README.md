Версия .NET для работы с автотестами <p><a href= "https://dotnet.microsoft.com/download/dotnet-framework/net472"> <img src="https://img.shields.io/badge/.NET-4.5--4.7.2-blueviolet"></a></p>

FlaUI framework <p><a href = "https://github.com/FlaUI/FlaUI"><img src="https://img.shields.io/nuget/dt/FlaUI.UIA3"></a></p>

Nuget пакет для управления зависимостями <p><a href= "https://www.nuget.org/"><img src="https://img.shields.io/nuget/v/2?color=blue"></a></p>

Перед тестированием необходимо скачать версию Gemopay предназначенная для автотестов (Чаще всего лежит в папке supertest внутри проекта Gemopay)

При выгрузке проекта необходимо проверить состояние библиотек во вкладке UnitTestProject1->Reference, если библиотеки горят желтым необходимо обновить их.
Обновление библиотек происходит следующим образом:
1. Правой кнопкой мыши нажать на UnitTestProject1
2. Выбрать пункт "Управление пакетами Nuget"
3. В открывшимся окне будет предупреждение, что библиотеки не обновлены
4. Нажать кнопку восстановить

Если же у вас отсутствует среда разработки Visual studio, то следует сделать следующее:
1. Перейти по ссылке с надписью Nuget
2. Перейти в downloads и скачать стабильную версию 5.11.0
3. Создать папку C:\nuget и положить туда exe файл
4. Добавить в PATH путь С:\nuget
5. Далее с помощью cmd или Powershell перейти в папку с проектом
6. Ввести команду nuget restore packages.config
7. Далее остается ждать и зависимости в проекте будут восстановлены

После этого библиотеки будут восстановлены и готовы к работе.

Запуск тестов производится 2 способами:
1. Через Visual Studio посредством вызова Тесты->Запустить все тесты
2. Либо через консоль Visual Studio (Developer Console Prompt for VS2019) с указаним dll файла тестов (vstest.console.exe Путь/До тестов/Unittestproject1.dll), либо нужно перейти к папке самого автотеста по пути autotest_gemopay/UnittestProject1/bin/Debug/ и ввести vstest.console.exe UnittestProject1.dll

Если же у вас отсутствует среда разработки, то можно сделать:
1. Запустить Powershell или cmd
2. Перейти в папку с проектом
3. Ввести команду dotnet test \bin\debug\UnitTestProject1.dll -s RUS.runsettings (либо KRZ.runsettings), последний параметр зависит от страны в которой будет тестирование
4. Дождаться окончания тестов


На данный момент тесты для реального ККМ нестабильны т.к локальный компьтер работает медленно и тесты могут валиться попросту из-за работы компьютера. Также необходимо следить какая сборка стоит на какой машине для реального ККМ, заголовок окна должен быть Prod, для эмуляторов Test


Важно!Во время прохождения тестов не трогать курсор виртуальной машины! т.к фреймворк завязан на ее использовании